<!DOCTYPE html>
<html>
    <head>
        <title>Results</title>
    </head>
    <body>
        <script>
            const ws = new WebSocket("ws://127.0.0.1:5000/");

            ws.onmessage = function (event) {
                data = JSON.parse(event.data);
                var messages = document.querySelector('ul');
                var child = messages.lastElementChild;
                while (child) {
                    messages.removeChild(child);
                    child = messages.lastElementChild;
                }
                for (const name in data) {
                    message = document.createElement('li');
                    content = document.createTextNode(`${name} : ${data[name]}`);
                    message.appendChild(content);
                    messages.appendChild(message);
                }
            };
        </script>
        <ul></ul>
    </body>
</html>


